<div class="administrator-main">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-5">
        <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
          <div class="form-group mt-3">
            <label class="form-label" for="">Title</label>
            <input type="text" formControlName="title" class="form-control"
              [ngClass]="{ 'is-invalid': (f.title.dirty || f.title.touched) && (f.title.errors)}">
          </div>
          <p *ngIf="f.title.invalid && (f.title.dirty || f.title.touched)" class="mt-2 text-danger">

            <span *ngIf="f.title.errors?.required">
              Bạn chưa nhập tiêu đề
            </span>
          </p>

          <div class="form-group mt-3">
            <label for="" class="form-label">CategoryId</label>
            <select formControlName="categoryId" id="" class="form-control"
              [ngClass]="{ 'is-invalid': (f.categoryId.dirty || f.categoryId.touched) && (f.categoryId.errors)}">
              <option value="">Select category</option>
              <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
            </select>
          </div>
          <p *ngIf="f.categoryId.invalid && (f.categoryId.dirty || f.categoryId.touched)" class="mt-2 text-danger">
            <span *ngIf="f.categoryId.errors?.required">
              Bạn chưa chọn danh mục
            </span>
          </p>
          <div class="form-group mt-3">
            <label class="form-label" for="">Image</label>
            <input type="file" formControlName="image" (change)="imageUpload($event)" class="form-control"
              [ngClass]="{ 'is-invalid': (f.image.dirty || f.image.touched) && (f.image.errors)}">
          </div>
          <p *ngIf="f.image.invalid && (f.image.dirty || f.image.touched)" class="mt-2 text-danger">
            <span *ngIf="f.image.errors?.required">
              Bạn chưa chọn file
            </span>
          </p>
          <div class="form-group mt-3">
            <label for="" class="form-label">Description</label>
            <textarea formControlName="description" id="" cols="10"
              [ngClass]="{ 'is-invalid': (f.description.dirty || f.description.touched) && (f.description.errors)}"
              class="form-control" rows="5"></textarea>
          </div>
          <p *ngIf="f.description.invalid && (f.description.dirty || f.description.touched)" class="mt-2 text-danger">
            <span *ngIf="f.description.errors?.required">
              Bạn chưa nhập mô tả chi tiết
            </span>
          </p>
          <div class="form-group mt-3">
            <label for="" class="form-label">short description</label>
            <textarea formControlName="shortDesc" id="" cols="10" rows="4"
              [ngClass]="{ 'is-invalid': (f.shortDesc.dirty || f.shortDesc.touched) && (f.shortDesc.errors)}"
              class="form-control"></textarea>
          </div>
          <p *ngIf="f.shortDesc.invalid && (f.shortDesc.dirty || f.shortDesc.touched)" class="mt-2 text-danger">
            <span *ngIf="f.shortDesc.errors?.required">
              Bạn chưa nhập mô tả ngắn
            </span>
          </p>
          <div class="mt-3">
            <button [disabled]="postForm.invalid" type="submit" class="btn btn-primary">
              <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
              <span>Save</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
